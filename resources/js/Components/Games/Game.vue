<script setup>
import Team               from "~/Components/Games/Game/Team.vue";
import {computed, toRefs} from "vue";

const props = defineProps({
    game: {
        type: Object,
        required: true
    }
});

const {game} = toRefs(props);

const formatDate = (options) => {
    const date = new Date(game.value.date);
    return new Intl.DateTimeFormat('es-ES', options).format(date);
};

const day = computed(() => formatDate({weekday: 'short'}).toUpperCase());
const date = computed(() => formatDate({day: '2-digit', month: '2-digit', year: 'numeric'}).replace(/\//g, '.'));
const hour = computed(() => formatDate({hour: '2-digit', minute: '2-digit'}));
</script>

<template>
    <div class="border-2 border-neutral flex flex-col">
        <div class="bg-neutral flex flex-row px-5 py-2 font-bold">
            <span class="w-1/2">{{ day }} {{ date }}</span>
            <span class="w-1/2 text-right">{{ hour }}</span>
        </div>
        <div class="flex flex-row py-3 px-5 items-start flex-grow">
            <Team :team="game.home_team"/>
            <div class="w-2/12 font-serif font-bold text-center self-center">VS</div>
            <Team :team="game.away_team"/>
        </div>
        <div class="flex flex-row px-5 py-2 font-bold items-center bg-neutral">
            <span class="w-1/2">📍 {{ game.venue }}</span>
            <span class="w-1/2 text-right" v-if="game.streaming">
                <a :href="game.streaming" target="_blank" class="btn btn-ghost btn-sm"> Ver en directo</a>
            </span>
        </div>
    </div>
</template>

<style scoped>

</style>
